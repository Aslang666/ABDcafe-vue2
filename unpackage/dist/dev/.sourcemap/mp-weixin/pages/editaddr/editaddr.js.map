{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/code/ABDcafe-vue2/pages/editaddr/editaddr.vue?8070","webpack:///D:/code/ABDcafe-vue2/pages/editaddr/editaddr.vue?da60","webpack:///D:/code/ABDcafe-vue2/pages/editaddr/editaddr.vue?fbb8","uni-app:///pages/editaddr/editaddr.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","addrPickerShow","columns","fieldValue","cascaderValue","id","address","name","phone","region","is_default","show","onLoad","console","methods","showAddrPicker","onClose","onFinish","e","selectedOptions","value","map","join","onDefaultChange","onNameChange","onPhoneChange","onAddressChange","saveAddr","action","uni","url","add","sureDel","title","content","success"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AAC6K;AAC7K,gBAAgB,uLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAupB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACwC3qB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAKA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAH;QACAI;MACA;MACAC;IACA;EACA;EACAC;IACAC;IACA;MACA;MACAA;MACA;IACA;MACA;MACA;QACAN;QACAC;QACAC;QACAH;QACAI;MAAA;IACA;EACA;EACAI;IACAC;MACAF;MACA;IACA;IACAG;MACA;IAEA;IACAC;MACAJ;MACA,gBAGAK;QAFAC;QACAC;MAEA,sCACAC;QAAA;MAAA,GACAC;MACA;MACA;MACAT;IACA;IACAU;MACAV;MACA;IACA;IACAW;MACAX;MACA;IACA;IACAY;MACAZ;MACA;IACA;IACAa;MACAb;MACA;IACA;IACAc;MACAd;MACA;QACAe;QACA5B;MACA;MACA;MACA;QACAa;QACAgB;UACAC;QACA;MACA;IACA;IACAC;MACAlB;MACA;QACAe;QACA5B;MACA;MACA;QACAa;QACAgB;UACAC;QACA;MACA;IACA;IACAE;MACAH;QACAI;QACAC;QACAC;UACA;YACAtB;YACAA;YACA;cACAe;cACA5B;YACA;YACA;cACAa;cACAgB;gBACAC;cACA;YACA;UACA;YACAjB;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B","file":"pages/editaddr/editaddr.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/editaddr/editaddr.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./editaddr.vue?vue&type=template&id=6133de34&\"\nvar renderjs\nimport script from \"./editaddr.vue?vue&type=script&lang=js&\"\nexport * from \"./editaddr.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/editaddr/editaddr.vue\"\nexport default component.exports","export * from \"-!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editaddr.vue?vue&type=template&id=6133de34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function (val) {\n      return _vm.onDefaultChange(val)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editaddr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editaddr.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"area-selector\">\r\n\t\t<view style=\"display: flex; flex-direction: column; gap: 24rpx;padding-top:24rpx;\">\r\n\t\t\t<van-cell-group inset>\r\n\t\t\t\t<van-field label=\"姓名\" :value=\"address.name\" @change=\"onNameChange\" placeholder=\"收货人姓名\" />\r\n\t\t\t\t<van-field label=\"电话\" :value=\"address.phone\" @change=\"onPhoneChange\" placeholder=\"收货人手机号\" />\r\n\t\t\t\t<van-field :value=\"address.region\" is-link readonly label=\"地区\" placeholder=\"请选择所在地区\"\r\n\t\t\t\t\t@tap=\"showAddrPicker\" />\r\n\t\t\t\t<van-field label=\"详细地址\" :value=\"address.address\" @change=\"onAddressChange\"\r\n\t\t\t\t\tplaceholder=\"街道门牌、楼层房间号等信息\" />\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<van-cell-group inset>\r\n\t\t\t\t<van-cell title=\"设为默认收货地址\" center>\r\n\t\t\t\t\t<van-switch slot=\"right-icon\" :checked=\"address.is_default\" @change=\"(val)=>onDefaultChange(val)\"\r\n\t\t\t\t\t\tactive-color=\"#0037ae\" size=\"48rpx\" />\r\n\t\t\t\t</van-cell>\r\n\t\t\t</van-cell-group>\r\n\r\n\t\t\t<view style=\"margin: 48rpx 24rpx 0; \" v-if=\"show\">\r\n\t\t\t\t<van-button type=\"primary\" size=\"large\" color=\"#0037ae\" round\r\n\t\t\t\t\t@click=\"saveAddr(address)\">保存地址</van-button>\r\n\t\t\t\t<van-button type=\"primary\" size=\"large\" color=\"#cf4347\" round\r\n\t\t\t\t\t@click=\"sureDel(address)\">删除地址</van-button>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"margin: 48rpx 24rpx 0;\" v-else>\r\n\t\t\t\t<van-button type=\"primary\" size=\"large\" color=\"#0037ae\" round @click=\"add(address)\">添加地址</van-button>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<van-popup :show=\"addrPickerShow\" round position=\"bottom\" :value=\"fieldValue\">\r\n\r\n\t\t\t<van-cascader v-if=\"addrPickerShow\" title=\"请选择所在地区\" :options=\"columns\" @close=\"onClose\" @finish=\"onFinish\"\r\n\t\t\t\t:value=\"cascaderValue\" />\r\n\t\t</van-popup>\r\n\t\t<van-dialog id=\"van-dialog\" />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport columns from '../../utils/region.js';\r\n\timport {\r\n\t\tupdateAddr,\r\n\t\taddAddr,\r\n\t\tdelAddr\r\n\t} from '../../router/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\taddrPickerShow: false,\r\n\t\t\t\tcolumns: columns,\r\n\t\t\t\tfieldValue: '',\r\n\t\t\t\tcascaderValue: '',\r\n\t\t\t\t// isDefault: false,\r\n\t\t\t\tid: 0,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tregion: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tis_default: false\r\n\t\t\t\t},\r\n\t\t\t\tshow: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log(options.e);\r\n\t\t\tif (options.e) {\r\n\t\t\t\tthis.show = true\r\n\t\t\t\tconsole.log(JSON.parse(options.e));\r\n\t\t\t\tthis.address = JSON.parse(options.e)\r\n\t\t\t} else {\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.address = {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tregion: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tis_default: false}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowAddrPicker() {\r\n\t\t\t\tconsole.log(this.addrPickerShow);\r\n\t\t\t\tthis.addrPickerShow = true\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.addrPickerShow = false\r\n\r\n\t\t\t},\r\n\t\t\tonFinish(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tconst {\r\n\t\t\t\t\tselectedOptions,\r\n\t\t\t\t\tvalue\r\n\t\t\t\t} = e.detail;\r\n\t\t\t\tthis.address.region = selectedOptions\r\n\t\t\t\t\t.map((option) => option.text || option.name)\r\n\t\t\t\t\t.join('/');\r\n\t\t\t\tthis.cascaderValue = value\r\n\t\t\t\tthis.addrPickerShow = false\r\n\t\t\t\tconsole.log(this.address.region);\r\n\t\t\t},\r\n\t\t\tonDefaultChange(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.address.is_default = e.detail\r\n\t\t\t},\r\n\t\t\tonNameChange(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.address.name = e.detail\r\n\t\t\t},\r\n\t\t\tonPhoneChange(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.address.phone = e.detail\r\n\t\t\t},\r\n\t\t\tonAddressChange(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.address.address = e.detail\r\n\t\t\t},\r\n\t\t\tsaveAddr(e) {\r\n\t\t\t\tconsole.log('保存地址', e);\r\n\t\t\t\tlet addresses = {\r\n\t\t\t\t\taction: 'update',\r\n\t\t\t\t\tdata: e\r\n\t\t\t\t}\r\n\t\t\t\t// addresses.push(e)\r\n\t\t\t\tupdateAddr(addresses).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: '../address/address'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadd(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tlet addresses = {\r\n\t\t\t\t\taction: 'create',\r\n\t\t\t\t\tdata: e\r\n\t\t\t\t}\r\n\t\t\t\taddAddr(addresses).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: '../address/address'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsureDel(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除该地址吗？',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('确定');\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\tlet addresses = {\r\n\t\t\t\t\t\t\t\taction: 'delete',\r\n\t\t\t\t\t\t\t\tdata: e\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdelAddr(addresses).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '../address/address'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>"],"sourceRoot":""}